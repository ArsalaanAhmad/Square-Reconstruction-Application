<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Magic Square Result</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/magic-square.js" defer></script>
</head>
<body>
<h1 class="result-header">Magic Square Result for <span th:text="${name}">Name</span></h1>
<div class="move-counter">Moves: <span id="moveCount">0</span></div>
<table>
    <tr th:each="row, rowStat : ${magicSquare}">
        <td th:each="cell, cellStat : ${row}"
            th:id="'cell-' + ${rowStat.index} + '-' + ${cellStat.index}"
            th:text="${cell}"
            onclick="selectCell(this)">0</td>
    </tr>
</table>
<a href="/" class="play-button" onclick="playClickingSound()"><span>Start Over</span></a>
<div id="validationResult" class="validation-message"></div>
<form id="swapForm" method="post" action="/swap" style="display:none;">
    <input type="hidden" name="x1" id="x1">
    <input type="hidden" name="y1" id="y1">
    <input type="hidden" name="x2" id="x2">
    <input type="hidden" name="y2" id="y2">
</form>

<audio id="backgroundMusic" loop autoplay>
    <source src="/audio/StartingMusic.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>
<audio id="clickingSound" src="/audio/clicksound.mp3" preload="auto"></audio>

<script>
    // Set the volume for background music
    document.addEventListener('DOMContentLoaded', (event) => {
        const backgroundMusic = document.getElementById('backgroundMusic');
        backgroundMusic.volume = 0.3; // Set volume to 30%

        const clickingSound = document.getElementById('clickingSound');
        const buttons = document.querySelectorAll('button, a, td');
        buttons.forEach(button => {
            button.addEventListener('click', () => {
                clickingSound.play();
            });
        });
    });
</script>
</body>
</html>